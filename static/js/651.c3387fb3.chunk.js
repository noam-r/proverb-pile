"use strict";(self.webpackChunkproverb_pile_app=self.webpackChunkproverb_pile_app||[]).push([[651],{651:(t,e,r)=>{r.d(e,{generateRandomPuzzleFromCSV:()=>n});const o=async t=>{try{0;const r=["".concat("/proverb-pile","/").concat(t,"-proverbs.csv"),"/".concat(t,"-proverbs.csv")].filter(t=>"/undefined"!==t);let o="",n=null;for(const t of r)try{const e=await fetch(t);if(e.ok){o=await e.text();break}throw new Error("HTTP ".concat(e.status,": ").concat(e.statusText))}catch(e){n=e}if(!o)throw n||new Error("All CSV URLs failed");const c=(t=>t.trim().split("\n").slice(1).map(t=>{const e=[];let r="",o=!1;for(let n=0;n<t.length;n++){const c=t[n];'"'===c?o=!o:","!==c||o?r+=c:(e.push(r.trim()),r="")}return e.push(r.trim()),{solution:e[0]||"",culture:e[1]||"",meaning:e[2]||""}}).filter(t=>t.solution&&t.culture&&t.meaning))(o);if(0===c.length)throw new Error("No valid proverbs found in CSV");return c}catch(e){throw console.error("Failed to load ".concat(t," proverbs:"),e),new Error("Unable to load ".concat(t," proverbs: ").concat(e))}},n=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=await o(t);if(0===r.length)throw new Error("No proverbs found for language: ".concat(t));const c=r.map((t,e)=>e).filter(t=>!e.includes(t));if(c.length<3)return n(t,[]);const l=[],s=[];for(let o=0;o<3&&c.length>0;o++){const t=Math.floor(Math.random()*c.length),e=c[t],o=r[e];l.push(e),s.push({solution:o.solution,culture:o.culture,meaning:o.meaning}),c.splice(t,1)}return{puzzle:{version:"1",language:t,proverbs:s},usedIndices:[...e,...l]}}}}]);
//# sourceMappingURL=651.c3387fb3.chunk.js.map